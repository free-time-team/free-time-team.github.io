<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This manual is for Document, version 1.0.

Copyright (C) years free time team.

Permission is granted to -->
<!-- Created by GNU Texinfo 6.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>kernel startup code online debug</title>

<meta name="description" content="kernel startup code online debug">
<meta name="keywords" content="kernel startup code online debug">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="#Top" rel="start" title="Top">
<link href="#SEC_Contents" rel="contents" title="Table of Contents">
<link href="dir.html#Top" rel="up" title="(dir)">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<h1 class="settitle" align="center">kernel startup code online debug</h1>




<a name="SEC_Contents"></a>
<h2 class="contents-heading">Table of Contents</h2>

<div class="contents">

<ul class="no-bullet">
  <li><a name="toc-kernel-startup-code-online-debug-2" href="#kernel-startup-code-online-debug">1 kernel startup code online debug</a></li>
</ul>
</div>


<a name="Top"></a>
<div class="header">
<p>
Next: <a href="#kernel-startup-code-online-debug" accesskey="n" rel="next">kernel startup code online debug</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="kernel-startup-code-online-debug-1"></a>
<h1 class="top">kernel startup code online debug</h1>

<p>This manual is for program, version version.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#kernel-startup-code-online-debug" accesskey="1">kernel startup code online debug</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="kernel-startup-code-online-debug"></a>
<div class="header">
<p>
Previous: <a href="#Top" accesskey="p" rel="prev">Top</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="kernel-startup-code-online-debug-2"></a>
<h2 class="chapter">1 kernel startup code online debug</h2>


<div class="example">
<pre class="example">kernel startup code online debug
	$ aarch64-linux-gnu-readelf -S out/vmlinux
	There are 35 section headers, starting at offset 0x5cc61c0:

	Section Headers:
	  [Nr] Name              Type             Address           Offset
	       Size              EntSize          Flags  Link  Info  Align
	  [ 0]                   NULL             0000000000000000  00000000
	       0000000000000000  0000000000000000           0     0     0
	  [ 1] .head.text        PROGBITS         ffffffc000080000  00010000
	       0000000000002000  0000000000000000  AX       0     0     4096
	  [ 2] .text             PROGBITS         ffffffc000082000  00012000
	       000000000053e560  0000000000000000  AX       0     0     4096
	  [ 3] .text.init        PROGBITS         ffffffc0005c0560  00550560
	       0000000000000070  0000000000000000  AX       0     0     16
	  [ 4] .rodata           PROGBITS         ffffffc0005c1000  00551000
	       00000000001eb388  0000000000000000   A       0     0     4096
	  [ 5] .init.rodata.str1 PROGBITS         ffffffc0007ac388  0073c388
	       0000000000000768  0000000000000001 AMS       0     0     8
	  [ 6] .pci_fixup        PROGBITS         ffffffc0007acaf0  0073caf0
	       00000000000021f0  0000000000000000   A       0     0     8
	  [ 7] __ksymtab         PROGBITS         ffffffc0007aece0  0073ece0
	       000000000000d890  0000000000000000   A       0     0     8
	  [ 8] __ksymtab_gpl     PROGBITS         ffffffc0007bc570  0074c570
	       000000000000bdd0  0000000000000000   A       0     0     8
	  [ 9] __ksymtab_strings PROGBITS         ffffffc0007c8340  00758340
	       000000000001d6aa  0000000000000000   A       0     0     1
	  [10] __param           PROGBITS         ffffffc0007e59f0  007759f0
	       00000000000016c0  0000000000000000   A       0     0     8
	  [11] __modver          PROGBITS         ffffffc0007e70b0  007770b0
	       0000000000000f50  0000000000000000   A       0     0     8
	  [12] __ex_table        PROGBITS         ffffffc0007e8000  00778000
	       0000000000005580  0000000000000000   A       0     0     8
	  [13] .notes            NOTE             ffffffc0007ed580  0077d580
	       0000000000000024  0000000000000000   A       0     0     4
	  [14] .init.text        PROGBITS         ffffffc0007ee000  0077e000
	       000000000002fd84  0000000000000000  AX       0     0     16
	  [15] .exit.text        PROGBITS         ffffffc00081dd84  007add84
	       00000000000018b4  0000000000000000  AX       0     0     4
	  [16] .init.data        PROGBITS         ffffffc00081f640  007af640
	       0000000000298500  0000000000000000  WA       0     0     32
	  [17] .data..percpu     PROGBITS         ffffffc000ab8000  00a48000
	       0000000000006d40  0000000000000000  WA       0     0     64
	  [18] .altinstructions  PROGBITS         ffffffc000abf000  00a4f000
	       0000000000003d74  0000000000000000   A       0     0     1
	  [19] .altinstr_replace PROGBITS         ffffffc000ac2d74  00a52d74
	       000000000000147c  0000000000000000  AX       0     0     1
	  [20] .data             PROGBITS         ffffffc000ac5000  00a55000
	       000000000006e3e8  0000000000000000  WA       0     0     4096
	  [21] .pecoff_edata_pad PROGBITS         ffffffc000b333e8  00ac33e8
	       0000000000000018  0000000000000000  WA       0     0     1
	  [22] .bss              NOBITS           ffffffc000b34000  00ac3400
	       00000000000324a8  0000000000000000  WA       0     0     4096
	  [23] .comment          PROGBITS         0000000000000000  00ac3400
	       0000000000000063  0000000000000001  MS       0     0     1
	  [24] .debug_line       PROGBITS         0000000000000000  00ac3463
	       00000000004f7432  0000000000000000           0     0     1
	  [25] .debug_info       PROGBITS         0000000000000000  00fba895
	       0000000003eb0a2e  0000000000000000           0     0     1
	  [26] .debug_abbrev     PROGBITS         0000000000000000  04e6b2c3
	       00000000001e9371  0000000000000000           0     0     1
	  [27] .debug_aranges    PROGBITS         0000000000000000  05054640
	       0000000000015ca0  0000000000000000           0     0     16
	  [28] .debug_ranges     PROGBITS         0000000000000000  0506a2e0
	       00000000002d3e20  0000000000000000           0     0     16
	  [29] .debug_frame      PROGBITS         0000000000000000  0533e100
	       000000000015e240  0000000000000000           0     0     8
	  [30] .debug_str        PROGBITS         0000000000000000  0549c340
	       000000000019168f  0000000000000001  MS       0     0     1
	  [31] .debug_loc        PROGBITS         0000000000000000  0562d9cf
	       0000000000698666  0000000000000000           0     0     1
	  [32] .shstrtab         STRTAB           0000000000000000  05cc6035
	       0000000000000185  0000000000000000           0     0     1
	  [33] .symtab           SYMTAB           0000000000000000  05cc6a80
	       000000000018e7f0  0000000000000018          34   47679     8
	  [34] .strtab           STRTAB           0000000000000000  05e55270
	       000000000010932e  0000000000000000           0     0     1
	Key to Flags:
	  W (write), A (alloc), X (execute), M (merge), S (strings)
	  I (info), L (link order), G (group), T (TLS), E (exclude), x (unknown)
	  O (extra OS processing required) o (OS specific), p (processor specific)
	...
	add-symbol-file out/vmlinux 0x40082000  -s .head.text 0x40080000 -s .rodata 0x405c1000
	...
	ctrl+x+2   // open gdb tui mode
        ctrl+x then ctrl+a  // return to classic
        ...
	   ┌──/home/zzy/sdb/01study/kern4.1_arm64_env/linux-4.1.16/arch/arm64/kernel/head.S───────────────────────────────────────────────────────────┐
	   │100     efi_head:                                                                                                                                                                          │
	   │101             /*                                                                                                                                                                         │
	   │102              * This add instruction has no meaningful effect except that                                                                                                               │
	   │103              * its opcode forms the magic &quot;MZ&quot; signature required by UEFI.                                                                                                             │
	   │104              */                                                                                                                                                                        │
	B+ │105             add     x13, x18, #0x16                                                                                                                                                    │
	  &gt;│106             b       stext                                                                                                                                                              │
	   │107     #else                                                                                                                                                                              │
	   │108             b       stext                           // branch to kernel start, magic                                                                                                   │
	   │109             .long   0                               // reserved                                                                                                                        │
	   ┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
	B+ │0x40080000 &lt;efi_head&gt;           add    x13, x18, #0x16                                                                                                                                     │
	  &gt;│0x40080004 &lt;efi_head+4&gt;         b      0x40081000 &lt;stext&gt;                                                                                                                                  │
	   │0x40080008 &lt;efi_head+8&gt;         .inst  0x00080000 ; undefined                                                                                                                              │
	   │0x4008000c &lt;efi_head+12&gt;        .inst  0x00000000 ; undefined                                                                                                                              │
	(gdb)  b efi_head

</pre></div>






<hr>



</body>
</html>
